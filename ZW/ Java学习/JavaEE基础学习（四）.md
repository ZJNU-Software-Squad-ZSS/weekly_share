### JavaEE基础学习（四）

#### 常量与变量

##### 变量

###### 变量声明

声明一个变量的方式为：

变量类型 变量名

###### 变量的初始化

变量可以在它们声明时初始化，也可以利用一个赋值语言来初始化。

**注**：在Java语言中，基本数据类型主要用在两个地方，一个是类中的成员变量，一个是局部变量。当它们作为类的成员变量使用时，默认情况下编译器会给其一个默认值。但是，当基本数据类型当作局部变量使用时，如在循环语句中当作循环条件来使用，此时系统不会自动对局部变量进行初始化。

###### 引用型变量

引用型变量将类名、接口和数组作为数据类型。

引用型变量实际上不包含数据，它引用包含数据的某个类的一个实例。

Java在对变量进行内存分配时，把内存划分成两种：一种是栈内存，另一种是堆内存。

栈内存是向低地址扩展的数据结构，是一块连续的内存区域，栈顶的地址和栈的最大容量是系统预先规定好的。

堆内存是向高地址扩展的数据结构，是不连续的内存区域。这是由于系统是用链表来储存空间的内存地址的，所以是不连续的，且链表的遍历方向是由低地址到高地址。堆的大小受限与计算机系统中有效的虚拟内存。堆获得的空间可以立即被另作他用。

堆内存用来存放new创建的对象和数组，在堆中分配的内存，由Java虚拟器的自动垃圾回收器来管理。在堆中产生了一个数组或者对象之后，还可以在栈中定义一个特殊的变量，让<u>栈中的这个变量的取值等于数组或对象在对内存的首地址</u>，栈中的这个变量就形成了数组或对象的<u>引用变量</u>。

引用变量是普通的变量，定义时在栈中分配，引用变量在程序运行到其作用域之外后被释放。而数组和对象本身在堆中分配，即使程序运行到使用new产生数组或者对象的语句所在的代码块之外，数组和对象本身占据的内存也不会释放，数组和对象在没有引用变量指向它的时候，才变为垃圾，不能再被使用，但仍然占据内存空间不放，在随后的一个不确定的时间被垃圾回收器收走。栈中的引用变量指向堆内存中的实例对象，这实际就是Java中的指针。